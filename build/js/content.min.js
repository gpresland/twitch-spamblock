// TWITCH SpamBlock
//
// Copyright (c) Year(s), gpresland@gmail.com
// Permission to use, copy, modify, and/or distribute this software for any purpose with
// or without fee is hereby granted, provided that the above copyright notice and this
// permission notice appear in all copies.
//
// THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD
// TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN
// NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
// DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER
// IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
// CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
!function(a,b){b["true"]=a,settings={},settings.options={allcaps:{name:"allcaps",value:!1},cleanup:{name:"cleanup",value:!1},command:{name:"command",value:!1},copypaste:{name:"copypaste",value:!1},custom:{name:"custom",value:!1},cyrillic:{name:"cyrillic",value:!1},debug:{name:"debug",value:!1},donger:{name:"donger",value:!1},drawing:{name:"drawing",value:!1},emotes:{name:"emotes",value:!1},"long":{name:"long",value:!1},lowercase:{name:"lowercase",value:!1},"short":{name:"short",value:!1}},settings.blockstring=[],settings.load=function(a){chrome.storage.sync.get(null,function(b){var c;for(c in settings.options)b.hasOwnProperty("options")&&"undefined"!=typeof b.options?settings.options[c].value=b.options[c]:settings.options[c].value=!1;b.hasOwnProperty("blockstring")&&(settings.blockstring=b.blockstring),"function"==typeof a&&a({options:settings.options,blockstring:settings.blockstring})})},function(){"use strict";function a(a){var b=document.createElement("script");b.setAttribute("id","tsb-update-script"),b.type="text/javascript",b.appendChild(document.createTextNode("(function () {tsb.settings.options = "+JSON.stringify(a.options)+";tsb.settings.blockstring = "+JSON.stringify(a.blockstring)+";}());")),document.body.appendChild(b),document.body.removeChild(document.getElementById("tsb-update-script"))}chrome.runtime.onConnect.addListener(function(b){console.assert("twitch-spamblock"==b.name),b.onMessage.addListener(function(b,c,d){a(b)})})}(),function(){"use strict";settings.load(function(a){var b=document.createElement("script");b.type="text/javascript",b.appendChild(document.createTextNode("(function () {tsb = {ui: null,settings: {blockstring: [],options: null}};tsb.settings.options = "+JSON.stringify(a.options)+";tsb.settings.blockstring = "+JSON.stringify(a.blockstring)+";}());")),document.body.appendChild(b),b=document.createElement("script"),b.type="text/javascript",b.src=chrome.extension.getURL("js/resource.min.js"),document.body.appendChild(b),b=document.createElement("script"),b.type="text/javascript",b.src=chrome.extension.getURL("js/resource.min.js.map"),document.body.appendChild(b)})}()}({},function(){return this}());